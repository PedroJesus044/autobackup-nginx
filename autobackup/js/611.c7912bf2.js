"use strict";(self["webpackChunkfrontend_controladora_js"]=self["webpackChunkfrontend_controladora_js"]||[]).push([[611],{6405:function(e,l,t){var o=t(4753);class a{getAll(){return o.A.get("/backups")}get(e){return o.A.get(`/backups/${e}`)}create(e){return o.A.post("/backups",e)}update(e,l){return o.A.put(`/backups/${e}`,l)}delete(e){return o.A.delete(`/backups/${e}`)}deleteAll(){return o.A.delete("/tutorials")}}l.A=new a},4611:function(e,l,t){t.r(l),t.d(l,{default:function(){return j}});var o=t(641),a=t(33),n=t(3751);const i={key:0,class:"edit-form"},s=(0,o.Lk)("h4",null,"Code lines",-1),c=[s],r={key:1},u=(0,o.Lk)("br",null,null,-1),d=(0,o.Lk)("p",null,"Autobackup start!",-1),p=[u,d],h={key:2,class:"edit-form"},k={class:"list-group"},g={id:"cuadro"},b=["onUpdate:modelValue","onChange"],_={class:"row"},m=["onChange","onUpdate:modelValue"],L=["onChange","onUpdate:modelValue"],w=["onChange","onUpdate:modelValue"],y=["onClick"],f=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash-circle",viewBox:"0 0 16 16"},[(0,o.Lk)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),(0,o.Lk)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"})],-1),A=[f],v=["onUpdate:modelValue"],B={class:"list-group-item"},C={class:"input-group"},T=["onKeypress","onUpdate:modelValue"],$={class:"pb-5"},U=(0,o.Lk)("p",null,[(0,o.Lk)("strong",null,"Añadir bloque:")],-1);function x(e,l,t,s,u,d){return(0,o.uX)(),(0,o.CE)(o.FK,null,[u.currentTutorial?((0,o.uX)(),(0,o.CE)("div",i,c)):((0,o.uX)(),(0,o.CE)("div",r,p)),u.blockList?((0,o.uX)(),(0,o.CE)("div",h,[(0,o.Lk)("ul",k,[(0,o.Lk)("form",g,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(u.blockList,((e,l)=>((0,o.uX)(),(0,o.CE)("li",{class:"list-group-item",key:l},[(0,o.Lk)("strong",null,"Block: "+(0,a.v_)(e.distinct_bloques),1),(0,o.eW)("   "),e.codigo?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,"onUpdate:modelValue":l=>e.codigo[0].paralelo=l,type:"checkbox",onChange:l=>d.setParalelBlock(e)},null,40,b)),[[n.lH,e.codigo[0].paralelo]]):(0,o.Q3)("",!0),(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.codigo,((e,l)=>((0,o.uX)(),(0,o.CE)("li",{class:"list-group-item",key:l},[(0,o.Lk)("div",_,[(0,o.bo)((0,o.Lk)("input",{onChange:l=>d.updateLinea(e),type:"checkbox","onUpdate:modelValue":l=>e.fault_tolerant=l,style:{"accent-color":"orange"}},null,40,m),[[n.lH,e.fault_tolerant]]),(0,o.eW)("   "),(0,o.bo)((0,o.Lk)("input",{onChange:l=>d.updateLinea(e),type:"checkbox","onUpdate:modelValue":l=>e.run_as_sudo=l},null,40,L),[[n.lH,e.run_as_sudo]]),(0,o.eW)("   "),(0,o.bo)((0,o.Lk)("input",{onChange:l=>d.updateLinea(e),class:"contform-rol col",type:"text","onUpdate:modelValue":l=>e.linea=l},null,40,w),[[n.Jo,e.linea]]),(0,o.eW)("   "),(0,o.Lk)("a",null,[(0,o.Lk)("button",{type:"button",class:"btn btn-danger col",onClick:l=>d.deleteLine(e.id)},A,8,y)]),(0,o.bo)((0,o.Lk)("input",{type:"hidden","onUpdate:modelValue":l=>e.id=l},null,8,v),[[n.Jo,e.id]])])])))),128)),(0,o.Lk)("li",B,[(0,o.Lk)("div",C,[(0,o.bo)((0,o.Lk)("input",{onKeypress:(0,n.jR)((t=>d.newLine(this.id_backup,e.distinct_bloques,l)),["enter"]),"onUpdate:modelValue":e=>u.new_line_array[l]=e,type:"text",class:"form-control",placeholder:"+ Añadir","aria-label":"Username","aria-describedby":"basic-addon1"},null,40,T),[[n.Jo,u.new_line_array[l]]])])])])])))),128))])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",$,[U,(0,o.bo)((0,o.Lk)("input",{id:"add-bloque",onKeypress:l[0]||(l[0]=(0,n.jR)((e=>d.newBlockAndLine(this.id_backup)),["enter"])),"onUpdate:modelValue":l[1]||(l[1]=e=>u.new_line_block=e),type:"text",class:"form-control",placeholder:"+ Añadir","aria-label":"Username","aria-describedby":"basic-addon1"},null,544),[[n.Jo,u.new_line_block]])])],64)}t(4114);var V=t(6405),q=t(4753);class E{getAll(){return q.A.get("/backups")}get(e){return q.A.get(`/backups/${e}`)}create(e){return q.A.post("/backups",e)}update(e,l){return q.A.put(`/codigos/${e}`,l)}delete(e){return q.A.delete(`/codigos/${e}`)}deleteAll(){return q.A.delete("/tutorials")}findByTitle(e){return q.A.get(`/tutorials?title=${e}`)}findDifferentBackupBlocks(e){return q.A.get(`/codigos/diffblocksbkpid?id_backup=${e}`)}findLinesOfBlock(e,l){return q.A.get(`/codigos/codebackupblock?id_backup=${e}&no_bloque=${l}`)}addLinea(e){return q.A.post("/codigos/addlinetospecificblock",e)}addBloque(e){return console.log(e),q.A.post("/codigos/addlinetospecificbackup",e)}updateParallelism(e){return console.log(e),q.A.put("/codigos/updateparallelism",e)}}var X=new E,P={name:"backup-view",data(){return{id_backup:null,no_bloque:null,currentTutorial:null,blockList:null,message:"",auxBackupId:null,auxNoBloque:null,currentBlock:[],new_line_array:[],new_line_block:null,x:0,y:0}},methods:{scrollToItem(e){const l=document.getElementById(e);l.scrollIntoView()},setActive(e){console.log("Holi :)",e)},updateLinea(e){X.update(e.id,e).then((e=>{console.log(e.data)})).catch((e=>{console.log(e)}))},setParalelBlock(e){var l={id_backup:e.codigo[0].id_backup,no_bloque:e.codigo[0].no_bloque,paralelo:e.codigo[0].paralelo};X.updateParallelism(l).then((e=>{console.log(e.data)})).catch((e=>{console.log(e)}))},async newLine(e,l,t){console.log(e,l,this.new_line_array[t]);var o={id_backup:e,no_linea:null,linea:this.new_line_array[t],run_as_sudo:0,paralelo:0,no_bloque:l,fault_tolerant:0};await X.addLinea(o).then((e=>{console.log(e.data),this.new_line_array[t]="",this.retreiveBlocks(this.$route.params.id)})).catch((e=>{console.log(e)}))},newBlockAndLine(e){console.log(e,this.new_line_block);var l={id_backup:e,linea:this.new_line_block};X.addBloque(l).then((e=>{console.log("Response del codigosdataservice.addBlk"),console.log(e.data),this.new_line_block="",this.scrollToItem("bottom"),this.retreiveBlocks(this.$route.params.id)})).catch((e=>{console.log(e)}))},savePos(){this.x=window.scrollX,this.y=window.scrollY},gotoPos(){console.log(this.x,this.y),window.scrollTo(this.x,this.y)},async deleteLine(e){console.log("Borranding: ",e),await X.delete(e).then((e=>{console.log(e.data)})).catch((e=>{console.log(e)})),this.retreiveBlocks(this.id_backup)},async retreiveLinesOfBlock(e,l){return await new Promise(((t,o)=>{X.findLinesOfBlock(e,l).then((e=>{t(e.data)})).catch((e=>{o(e)}))}))},async retreiveBlocks(e){await X.findDifferentBackupBlocks(e).then((async e=>{this.blockList=e.data;for(let l in this.blockList){let e=await this.retreiveLinesOfBlock(this.id_backup,this.blockList[l].distinct_bloques);this.blockList[l].codigo=e}console.log(this.blockList)})).catch((e=>{console.log(e)}))},getTutorial(e){V.A.get(e).then((e=>{this.currentTutorial=e.data,console.log(e.data)})).catch((e=>{console.log(e)}))},updatePublished(e){var l={id:this.currentTutorial.id,title:this.currentTutorial.title,description:this.currentTutorial.description,published:e};V.A.update(this.currentTutorial.id,l).then((l=>{console.log(l.data),this.currentTutorial.published=e,this.message="The status was updated successfully!"})).catch((e=>{console.log(e)}))},updateTutorial(){V.A.update(this.currentTutorial.id,this.currentTutorial).then((e=>{console.log(e.data),this.message="The tutorial was updated successfully!"})).catch((e=>{console.log(e)}))},deleteTutorial(){V.A.delete(this.currentTutorial.id).then((e=>{console.log(e.data),this.$router.push({name:"tutorials"})})).catch((e=>{console.log(e)}))}},async mounted(){this.message="",this.id_backup=this.$route.params.id,await this.retreiveBlocks(this.$route.params.id),this.getTutorial(this.$route.params.id)}},I=t(6262);const K=(0,I.A)(P,[["render",x]]);var j=K}}]);
//# sourceMappingURL=611.c7912bf2.js.map