"use strict";(self["webpackChunkfrontend_controladora_js"]=self["webpackChunkfrontend_controladora_js"]||[]).push([[106],{4106:function(t,a,s){s.r(a),s.d(a,{default:function(){return I}});var e=s(641);const n=(0,e.Lk)("h3",null,"Dashboard",-1);function u(t,a,s,u,l,r){const o=(0,e.g2)("BackupsStatus"),i=(0,e.g2)("BackupsStatusDoughnut");return(0,e.uX)(),(0,e.CE)(e.FK,null,[n,((0,e.uX)(),(0,e.Wv)(o,{key:0})),(0,e.bF)(i)],64)}var l=s(33);const r=(0,e.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"green",class:"bi bi-check-circle-fill",viewBox:"0 0 16 16"},[(0,e.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})],-1),o=[r],i=(0,e.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"red",class:"bi bi-x-circle-fill",viewBox:"0 0 16 16"},[(0,e.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})],-1),c=[i],d=(0,e.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"orange",class:"bi bi-exclamation-circle-fill",viewBox:"0 0 16 16"},[(0,e.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4m.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2"})],-1),h=[d];function g(t,a,s,n,u,r){return(0,e.uX)(),(0,e.CE)("div",null,[(0,e.Lk)("ul",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(u.backup_states,((a,s)=>((0,e.uX)(),(0,e.CE)("li",{class:(0,l.C4)(["list-group-item",{active:s==t.currentIndex}]),key:s},[(0,e.eW)((0,l.v_)(a.name)+" ",1),"[RUNNING]"==a.last_status?((0,e.uX)(),(0,e.CE)("div",{class:"float-right spinner-grow spinner-grow-sm m-1",role:"status",key:s})):(0,e.Q3)("",!0),"[ALL OK]"==a.last_status?((0,e.uX)(),(0,e.CE)("div",{class:"float-right sm mr-1",role:"status",key:s},o)):(0,e.Q3)("",!0),(0,e.Q3)("",!0),"[NOT OK]"==a.last_status?((0,e.uX)(),(0,e.CE)("div",{class:"float-right sm mr-1",role:"status",key:s},c)):(0,e.Q3)("",!0),"[FINISHED WITH ERRORS]"==a.last_status?((0,e.uX)(),(0,e.CE)("div",{class:"float-right sm mr-1",role:"status",key:s},h)):(0,e.Q3)("",!0)],2)))),128))])])}var p=s(1691),k={name:"general-status",data(){return{backup_states:[]}},methods:{getStatus(){p.A.generalStatus().then((t=>{this.backup_states=t.data.reverse()})).catch((t=>{console.log(t)}))}},mounted(){this.getStatus(),this.timer=setInterval((()=>{this.getStatus()}),300)}},m=s(6262);const v=(0,m.A)(k,[["render",g]]);var b=v;const f={class:"d-flex justify-content-around flex-wrap"};function w(t,a,s,n,u,l){const r=(0,e.g2)("Doughnut");return(0,e.uX)(),(0,e.CE)("div",f,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(u.doughnut_data,((t,a)=>((0,e.uX)(),(0,e.CE)("div",{style:{width:"100px",height:"100px"},key:a,class:"p-1"},[(0,e.bF)(r,{data:t.data,options:t.options},null,8,["data","options"])])))),128))])}var _=s(2022),L=s(6908);_.t1.register(_.Bs,_.m_,_.s$);var x={name:"general-status",components:{Doughnut:L.nu},data(){return{backup_states:[],doughnut_data:[]}},methods:{getStatus(){p.A.generalStatus().then((t=>{this.backup_states=t.data.reverse()})).catch((t=>{console.log(t)}))},update_doughnuts(t){let a,s;switch(t.last_status){case"[ALL OK]":a="#70bd4a",s=100;break;case"[RUNNING]":a="#435ee6",s=200;break;case"[NOT OK]":a="#e64343",s=50;break;case"[FINISHED WITH ERRORS]":a="#ffca38",s=25;break;default:a="currentColor",s=0}return{data:{labels:[t.name],datasets:[{backgroundColor:[a],data:[s]}]},options:{responsive:!0,maintainAspectRatio:!1,elements:{arc:{borderWidth:0}},plugins:{legend:{display:!0,labels:{color:"black",textAlign:"center",padding:0,boxWidth:0,boxHeight:0,boxPadding:0}}}}}}},mounted(){this.getStatus(),this.timer=setInterval((()=>{this.getStatus(),this.doughnut_data=this.backup_states.map(this.update_doughnuts)}),300)}};const C=(0,m.A)(x,[["render",w]]);var S=C,E={name:"dashboard-view",components:{BackupsStatus:b,BackupsStatusDoughnut:S},data(){return{}},methods:{},mounted(){}};const A=(0,m.A)(E,[["render",u]]);var I=A}}]);
//# sourceMappingURL=106.151f95ed.js.map