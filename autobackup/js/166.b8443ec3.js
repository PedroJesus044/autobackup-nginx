"use strict";(self["webpackChunkfrontend_controladora_js"]=self["webpackChunkfrontend_controladora_js"]||[]).push([[166],{6405:function(t,a,e){var r=e(4753);class s{getAll(){return r.A.get("/backups")}get(t){return r.A.get(`/backups/${t}`)}create(t){return r.A.post("/backups",t)}update(t,a){return r.A.put(`/backups/${t}`,a)}delete(t){return r.A.delete(`/backups/${t}`)}deleteAll(){return r.A.delete("/tutorials")}}a.A=new s},9166:function(t,a,e){e.r(a),e.d(a,{default:function(){return Tt}});var r=e(641),s=e(33),l=e(3751);const n=t=>((0,r.Qi)("data-v-4214bf40"),t=t(),(0,r.jt)(),t),i={class:"list row"},o={class:"col-md-3"},c=n((()=>(0,r.Lk)("h4",null,"Backups list",-1))),u={class:"list-group"},d=["onClick"],h={class:"container"},p={class:"row"},k={class:"col"},b={class:"col-"},m=n((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-check-circle-fill",viewBox:"0 0 16 16"},[(0,r.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})],-1))),v=[m],g=n((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-exclamation-circle-fill",viewBox:"0 0 16 16"},[(0,r.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4m.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2"})],-1))),L=[g],A=n((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-circle-fill",viewBox:"0 0 16 16"},[(0,r.Lk)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})],-1))),w=[A],f={class:"list-group-item"},y={class:"input-group"},M={class:"col-md-4"},_={key:0},C=n((()=>(0,r.Lk)("h4",null,"Metadata",-1))),x=n((()=>(0,r.Lk)("label",null,[(0,r.Lk)("strong",null,"Server hostname:")],-1))),B={class:"input-group mb-3"},E=n((()=>(0,r.Lk)("label",null,[(0,r.Lk)("strong",null,"NAS Hostname:")],-1))),H={class:"input-group mb-3"},U=n((()=>(0,r.Lk)("label",null,[(0,r.Lk)("strong",null,"NAS path:")],-1))),X={class:"input-group mb-3"},V=n((()=>(0,r.Lk)("label",null,[(0,r.Lk)("strong",null,"Run As Sudo Header:")],-1))),T={key:0},S={key:1},I={class:"input-group mb-3"},F=n((()=>(0,r.Lk)("label",null,[(0,r.Lk)("strong",null,"Server username:")],-1))),N={class:"input-group mb-3"},O=n((()=>(0,r.Lk)("label",null,[(0,r.Lk)("strong",null,"Server password:")],-1))),R={class:"input-group mb-3"},$=n((()=>(0,r.Lk)("label",null,[(0,r.Lk)("strong",null,"Server SSH port:")],-1))),z={class:"input-group mb-3"},P=n((()=>(0,r.Lk)("label",null,[(0,r.Lk)("strong",null,"Max retry attempts:")],-1))),J={class:"input-group mb-3"},Q={key:0},q=n((()=>(0,r.Lk)("label",null,[(0,r.Lk)("strong",null,"Action:")],-1))),D=n((()=>(0,r.Lk)("br",null,null,-1))),K=n((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-right",viewBox:"0 0 16 16"},[(0,r.Lk)("path",{d:"M6 12.796V3.204L11.481 8zm.659.753 5.48-4.796a1 1 0 0 0 0-1.506L6.66 2.451C6.011 1.885 5 2.345 5 3.204v9.592a1 1 0 0 0 1.659.753"})],-1))),j=[K],W=n((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-body-text",viewBox:"0 0 16 16"},[(0,r.Lk)("path",{"fill-rule":"evenodd",d:"M0 .5A.5.5 0 0 1 .5 0h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 0 .5m0 2A.5.5 0 0 1 .5 2h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m9 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-9 2A.5.5 0 0 1 .5 4h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m5 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m7 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m-12 2A.5.5 0 0 1 .5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m8 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-8 2A.5.5 0 0 1 .5 8h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m7 0a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-7 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5"})],-1))),G=[W],Y=n((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-floppy",viewBox:"0 0 16 16"},[(0,r.Lk)("path",{d:"M11 2H9v3h2z"}),(0,r.Lk)("path",{d:"M1.5 0h11.586a1.5 1.5 0 0 1 1.06.44l1.415 1.414A1.5 1.5 0 0 1 16 2.914V14.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5v-13A1.5 1.5 0 0 1 1.5 0M1 1.5v13a.5.5 0 0 0 .5.5H2v-4.5A1.5 1.5 0 0 1 3.5 9h9a1.5 1.5 0 0 1 1.5 1.5V15h.5a.5.5 0 0 0 .5-.5V2.914a.5.5 0 0 0-.146-.353l-1.415-1.415A.5.5 0 0 0 13.086 1H13v4.5A1.5 1.5 0 0 1 11.5 7h-7A1.5 1.5 0 0 1 3 5.5V1H1.5a.5.5 0 0 0-.5.5m3 4a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V1H4zM3 15h10v-4.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5z"})],-1))),Z=[Y],tt=n((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash-circle",viewBox:"0 0 16 16"},[(0,r.Lk)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),(0,r.Lk)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"})],-1))),at=[tt],et={key:1},rt=n((()=>(0,r.Lk)("label",null,[(0,r.Lk)("strong",null,"Action:")],-1))),st=n((()=>(0,r.Lk)("br",null,null,-1))),lt=n((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-floppy",viewBox:"0 0 16 16"},[(0,r.Lk)("path",{d:"M11 2H9v3h2z"}),(0,r.Lk)("path",{d:"M1.5 0h11.586a1.5 1.5 0 0 1 1.06.44l1.415 1.414A1.5 1.5 0 0 1 16 2.914V14.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5v-13A1.5 1.5 0 0 1 1.5 0M1 1.5v13a.5.5 0 0 0 .5.5H2v-4.5A1.5 1.5 0 0 1 3.5 9h9a1.5 1.5 0 0 1 1.5 1.5V15h.5a.5.5 0 0 0 .5-.5V2.914a.5.5 0 0 0-.146-.353l-1.415-1.415A.5.5 0 0 0 13.086 1H13v4.5A1.5 1.5 0 0 1 11.5 7h-7A1.5 1.5 0 0 1 3 5.5V1H1.5a.5.5 0 0 0-.5.5m3 4a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V1H4zM3 15h10v-4.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5z"})],-1))),nt=[lt],it=n((()=>(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash-circle",viewBox:"0 0 16 16"},[(0,r.Lk)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),(0,r.Lk)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"})],-1))),ot=[it],ct={key:0,class:"col"},ut={key:0},dt=n((()=>(0,r.Lk)("h4",null,"Stats",-1))),ht={key:0},pt=n((()=>(0,r.Lk)("br",null,null,-1))),kt={class:"table"},bt=n((()=>(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{scope:"col"},"Status"),(0,r.Lk)("th",{scope:"col"},"Time")])],-1))),mt={key:1},vt={key:1},gt=n((()=>(0,r.Lk)("h3",null,"Run this job to start...",-1))),Lt=[gt];function At(t,a,e,n,m,g){const A=(0,r.g2)("router-link"),K=(0,r.g2)("Line");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.Lk)("div",o,[c,(0,r.Lk)("ul",u,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.backups,((t,a)=>((0,r.uX)(),(0,r.CE)("li",{class:(0,s.C4)(["list-group-item",{active:a==m.currentIndex}]),key:a,onClick:e=>(g.setActiveTutorial(t,a),this.retreiveMetadata())},[(0,r.Lk)("div",h,[(0,r.Lk)("div",p,[(0,r.Lk)("div",k,(0,s.v_)(t.name),1),(0,r.Lk)("div",b,["[RUNNING]"==m.status[a]?((0,r.uX)(),(0,r.CE)("div",{class:"float-right spinner-grow spinner-grow-sm m-1",role:"status",key:a})):(0,r.Q3)("",!0),"success"==m.status[a]?((0,r.uX)(),(0,r.CE)("div",{class:"float-right sm mr-1",role:"status",key:a},v)):(0,r.Q3)("",!0),"warning"==m.status[a]?((0,r.uX)(),(0,r.CE)("div",{class:"float-right sm mr-1",role:"status",key:a},L)):(0,r.Q3)("",!0),"failure"==m.status[a]?((0,r.uX)(),(0,r.CE)("div",{class:"float-right sm mr-1",role:"status",key:a},w)):(0,r.Q3)("",!0)])])])],10,d)))),128)),(0,r.Lk)("li",f,[(0,r.Lk)("div",y,[(0,r.bo)((0,r.Lk)("input",{onKeypress:a[0]||(a[0]=(0,l.jR)(((...t)=>g.addBackup&&g.addBackup(...t)),["enter"])),"onUpdate:modelValue":a[1]||(a[1]=t=>m.name=t),id:"name",name:"name",type:"text",class:"form-control",placeholder:"+ Añadir","aria-label":"Username","aria-describedby":"basic-addon1"},null,544),[[l.Jo,m.name]])])])])]),(0,r.Lk)("div",M,[m.currentBackup?((0,r.uX)(),(0,r.CE)("div",_,[C,(0,r.Lk)("div",null,[x,(0,r.Lk)("div",B,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"hostname.com, 192.168.1.15, ...","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":a[2]||(a[2]=t=>m.currentMetadata.ip_servidor=t),required:""},null,512),[[l.Jo,m.currentMetadata.ip_servidor]])]),E,(0,r.Lk)("div",H,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"nashostname.com, 192.168.1.14, ...","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":a[3]||(a[3]=t=>m.currentMetadata.ip_nas=t)},null,512),[[l.Jo,m.currentMetadata.ip_nas]])]),U,(0,r.Lk)("div",X,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"/path/of/your/backup/in/your/nas","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":a[4]||(a[4]=t=>m.currentMetadata.ruta_respaldo=t)},null,512),[[l.Jo,m.currentMetadata.ruta_respaldo]])]),V,m.currentMetadata.rash?((0,r.uX)(),(0,r.CE)("div",T)):((0,r.uX)(),(0,r.CE)("div",S,(0,s.v_)(m.currentMetadata.rash="echo <P4ssw0rd.> | sudo -S "),1)),(0,r.Lk)("div",I,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"echo <password> | sudo -S ","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":a[5]||(a[5]=t=>m.currentMetadata.rash=t),required:""},null,512),[[l.Jo,m.currentMetadata.rash]])]),F,(0,r.Lk)("div",N,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"root, alice, bob, ...","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":a[6]||(a[6]=t=>m.currentMetadata.user_servidor=t)},null,512),[[l.Jo,m.currentMetadata.user_servidor]])]),O,(0,r.Lk)("div",R,[(0,r.bo)((0,r.Lk)("input",{type:"password",class:"form-control",placeholder:"P4ssw0rd.","aria-label":"Username","aria-describedby":"basic-addon1","onUpdate:modelValue":a[7]||(a[7]=t=>m.currentMetadata.pw_servidor=t)},null,512),[[l.Jo,m.currentMetadata.pw_servidor]])]),$,(0,r.Lk)("div",z,[(0,r.bo)((0,r.Lk)("input",{type:"number",class:"form-control",placeholder:"22","aria-label":"Username","aria-describedby":"basic-addon1",min:"1","onUpdate:modelValue":a[8]||(a[8]=t=>m.currentMetadata.port=t),required:""},null,512),[[l.Jo,m.currentMetadata.port]])]),P,(0,r.Lk)("div",J,[(0,r.bo)((0,r.Lk)("input",{type:"number",class:"form-control",placeholder:"2","aria-label":"Username","aria-describedby":"basic-addon1",min:"1",max:"5","onUpdate:modelValue":a[9]||(a[9]=t=>m.currentMetadata.reintentos_maximos=t),required:""},null,512),[[l.Jo,m.currentMetadata.reintentos_maximos]])])]),m.noMetadataExists?((0,r.uX)(),(0,r.CE)("div",Q,[(0,r.Lk)("div",null,[q,D,(0,r.Lk)("button",{type:"button",class:"btn btn-success",onClick:a[10]||(a[10]=t=>g.runBackup(m.currentIndex))},j),(0,r.eW)("  "),(0,r.bF)(A,{to:"/backups/"+m.currentBackup.id},{default:(0,r.k6)((()=>[(0,r.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[11]||(a[11]=t=>g.retreiveMetadata())},G)])),_:1},8,["to"]),(0,r.eW)("  "),(0,r.Lk)("button",{type:"button",class:"btn btn-warning",onClick:a[12]||(a[12]=t=>g.updateMetadata())},Z),(0,r.eW)("  "),(0,r.Lk)("button",{type:"button",class:"btn btn-danger",onClick:a[13]||(a[13]=t=>g.deleteBackup())},at)])])):((0,r.uX)(),(0,r.CE)("div",et,[(0,r.Lk)("div",null,[rt,st,(0,r.Lk)("button",{type:"submit",class:"btn btn-info",onClick:a[14]||(a[14]=t=>g.addMetadata())},nt),(0,r.eW)("  "),(0,r.Lk)("button",{type:"button",class:"btn btn-danger",onClick:a[15]||(a[15]=t=>g.deleteBackup())},ot)])]))])):(0,r.Q3)("",!0)]),m.currentBackup?((0,r.uX)(),(0,r.CE)("div",ct,[m.backup_traces?((0,r.uX)(),(0,r.CE)("div",ut,[dt,m.backup_traces?((0,r.uX)(),(0,r.CE)("div",ht,[(0,r.Lk)("h5",null,(0,s.v_)(m.currentBackup.name),1),pt,(0,r.Lk)("table",kt,[bt,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.backup_traces,((t,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,(0,s.v_)(t.last_status),1),(0,r.Lk)("td",null,(0,s.v_)(t.createdAt),1)])))),128))])])])):(0,r.Q3)("",!0),m.chartArray?((0,r.uX)(),(0,r.CE)("div",mt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.chartArray,((t,a)=>((0,r.uX)(),(0,r.CE)("div",{key:a},[(0,r.bF)(K,{id:"my-chart-id",options:t.chartOptions,data:t.chartData},null,8,["options","data"])])))),128))])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",vt,Lt))])):(0,r.Q3)("",!0)])}e(4114);var wt=e(4753);class ft{getAll(){return wt.A.get("/metadatas")}get(t){return wt.A.get(`/metadatas/${t}`)}create(t){return wt.A.post("/metadatas",t)}update(t,a){return wt.A.put(`/metadatas/${t}`,a)}delete(t){return wt.A.delete(`/metadatas/${t}`)}deleteAll(){return wt.A.delete("/metadatas")}getMetaBackup(t){return wt.A.get("/metadatas/metabackup",{params:{id_backup:t}})}}var yt=new ft,Mt=e(6405);class _t{getAll(){return wt.A.get("/backups")}get(t){return wt.A.get(`/backups/${t}`)}create(t){return wt.A.post("/backups",t)}update(t,a){return wt.A.put(`/backups/${t}`,a)}delete(t){return wt.A.delete(`/backups/${t}`)}deleteAll(){return wt.A.delete("/tutorials")}diffFiles(t){return wt.A.post("/file_traces/difffiles",t)}historyFile(t){return wt.A.post("/file_traces/historyfile",t)}}var Ct=new _t,xt=e(1691),Bt=e(4335),Et=e(6908),Ht=e(2022);Ht.t1.register(Ht.hE,Ht.m_,Ht.s$,Ht.No,Ht.PP,Ht.kc,Ht.FN);var Ut={name:"backups-list",components:{Line:Et.N1},data(){return{chartArray:[],backup_traces:null,backups:[],status:[],currentBackup:null,currentIndex:-1,title:"",name:"",currentMetadata:{id_backup:null,ruta_respaldo:"",ip_servidor:"",ip_nas:"",rash:"",user_servidor:"",pw_servidor:"",port:null,reintentos_maximos:null},noMetadataExists:!0,currentHistory:null}},methods:{async getBackupHistory(t){var a={id_backup:this.currentBackup.id,max:t};this.backup_traces=await new Promise(((t,e)=>{console.log(a),xt.A.backupHistory(a).then((a=>{t(a.data)})).catch((t=>{e(t)}))}))},color_by_id(t){switch(t){case 0:return"#007bff";case 1:return"#6610f2";case 2:return"#28a745";case 3:return"#dc3545";case 4:return"#ffc107";case 5:return"#fd7e14";case 6:return"#17a2b8";case 7:return"#e83e8c";case 8:return"#6f42c1";case 9:return"#20c997";default:return"#007bff"}},async retreiveHistoryFile(t){var a={id_backup:this.currentBackup.id,file:t};return await new Promise(((t,e)=>{console.log(a),Ct.historyFile(a).then((a=>{t(a.data)})).catch((t=>{e(t)}))}))},async retreiveDiffFiles(){var t={id_backup:this.currentBackup.id};await Ct.diffFiles(t).then((async t=>{let a,e=await t.data,r=[],s="",l=[],n=null,i=[],o="KB";for(let c in e){s=e[c].file;let t=await this.retreiveHistoryFile(s);l=[],r=[],o="KB";for(let a in t)r.push(t[a].createdAt),l.push(t[a].size);a=Math.max(...l),a>=1024**4?(o="PB",l=l.map((t=>t*(1/1024**4)))):a>=1024**3?(o="TB",l=l.map((t=>t*(1/1024**3)))):a>=1048576?(o="GB",l=l.map((t=>t*(1/1048576)))):a>=1024&&(o="MB",l=l.map((t=>t*(1/1024)))),console.log(a),console.log(c);let u=this.color_by_id(parseInt(c));n={chartData:{labels:r,datasets:[{label:s+" ("+o+")",data:l,tension:.3,borderColor:u,backgroundColor:u,pointRadius:3}]},chartOptions:{responsive:!0}},i.push(n)}console.log(i),this.chartArray=i})).catch((t=>{console.log(t)}))},retrievebackups(){console.log("Trayendo backups"),Mt.A.getAll().then((t=>{this.backups=t.data,console.log(t.data)})).catch((t=>{console.log(t)}))},async runBackup(t){this.status[t]="[RUNNING]";let a=`http://10.22.165.29:5000/?id=${this.currentBackup.id}`;Bt.A.create({baseURL:a,headers:{"Access-Control-Allow-Origin":"*",origin:"x-requested-with","Access-Control-Allow-Headers":"POST, GET, PUT, DELETE, OPTIONS, HEAD, Authorization, Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, Access-Control-Allow-Origin","Content-Type":"application/json"}}),await Bt.A.get(a).then((a=>{console.log(a.data),"[ALL OK]"===a.data&&(this.status[t]="success"),"[NOT OK]"===a.data&&(this.status[t]="failure"),"[FINISHED WITH ERRORS]"===a.data&&(this.status[t]="warning"),this.retreiveDiffFiles(),this.getBackupHistory(5)}))},retreiveMetadata(){yt.getMetaBackup(this.currentBackup.id).then((async t=>{""!==t.data&&t.data.constructor===Object?(this.noMetadataExists=!0,this.currentMetadata=t.data,await this.retreiveDiffFiles(),await this.getBackupHistory(5)):(this.currentMetadata={id_backup:this.currentBackup.id,ruta_respaldo:"",ip_servidor:"",ip_nas:"",rash:"",user_servidor:"",pw_servidor:"",port:null,reintentos_maximos:null},this.noMetadataExists=!1)})).catch((t=>{console.log(t)}))},refreshList(){this.retrievebackups(),this.currentBackup=null,this.currentIndex=-1},setActiveTutorial(t,a){this.currentBackup=t,this.currentIndex=t?a:-1},displaySpinner(t,a){this.currentBackup=t,this.currentIndex=t?a:-1},removeAllbackups(){Mt.A.deleteAll().then((t=>{console.log(t.data),this.refreshList()})).catch((t=>{console.log(t)}))},searchTitle(){Mt.A.findByTitle(this.name).then((t=>{this.backups=t.data,this.setActiveTutorial(null),console.log(t.data)})).catch((t=>{console.log(t)}))},addBackup(){var t={name:this.name};console.log(t),Mt.A.create(t).then((t=>{this.backups.name=t.data.name,console.log(t.data),this.submitted=!0,this.name="",this.refreshList()})).catch((t=>{console.log(t)}))},deleteBackup(){Mt.A.delete(this.currentBackup.id).then((t=>{console.log(t.data),this.$router.push({name:"backups"}),this.refreshList()})).catch((t=>{console.log(t)}))},addMetadata(){var t=this.currentMetadata;let a=this.currentBackup,e=this.index;console.log(t),yt.create(t).then((t=>{this.currentMetadata=t.data,console.log(t.data),this.submitted=!0,this.retreiveMetadata(),this.refreshList(),this.setActiveTutorial(a,e)})).catch((t=>{console.log(t)}))},updateMetadata(){yt.update(this.currentMetadata.id,this.currentMetadata).then((t=>{console.log(t.data),this.message="The metadata was updated successfully!"})).catch((t=>{console.log(t)}))}},mounted(){this.retrievebackups()}},Xt=e(6262);const Vt=(0,Xt.A)(Ut,[["render",At],["__scopeId","data-v-4214bf40"]]);var Tt=Vt}}]);
//# sourceMappingURL=166.b8443ec3.js.map